---
title: APIs
hide_in_navigation: true
---

# APIs

## Definition

Domain - "a particular field of thought, activity, or interest, especially one
over which someone has control, influence, or rights."

This definition from the Collins dictionary is applicable to the HMPPS Digital
Strategy for prisons. A team implementing a digital domain creates all
components necessary to manage, maintain and control data within that domain.

# Product APIs

APIs must incorporate a REST architectural style

## Documentation

All services should have clear API documentation that details the endpoints,
parameters, response structure authorisation requirements and gives examples
of use.

The API documentation should be in [OpenAPI 3][openapi3] format, according to
[GDS guidelines][gds-guidelines]. It should include examples for the various
data elements as well as the possible values for constrained items.

[openapi3]: https://github.com/OAI/OpenAPI-Specification
[gds-guidelines]: https://www.gov.uk/government/publications/recommended-open-standards-for-government/describing-restful-apis-with-openapi-3

## DNS

DPS project API URLs should have the suffix **.prison.service.justice.gov.uk**

## Mandatory Endpoints

### /health

All services must provide a **/health** endpoint which checks all dependencies
are healthy (e.g. database connection) and returns a http status of 200 if
everything is up and running. This endpoint is periodically called by DPS's
Pingdom check which will send an alert to
[#dps_alerts](https://mojdt.slack.com/archives/CP8FR9XL5) if an issue is
identified.

### /ping

This simple check should return a http status of 200 if the service is up and
running. It is suitable to be called by other services’ health checks and by
kubernetes live-ness and readiness probes if the application framework doesn’t
provide specific endpoints.

### /info

This endpoint provides basic information about the current application
version, github commit reference and other useful application information.
This endpoint must return this data in a standard json response.

### /business-metrics

todo

## API Security

Roles should be used to provide the appropriate security to the endpoints of
Domain APIs. [HMPPS Auth][hmpps-auth] controls these roles.

[hmpps-auth]: https://dsdmoj.atlassian.net/wiki/spaces/NOM/pages/956596231/Access+to+SSO+and+APIs

## API Standards

[HMPPS API Standards (requires Confluence account)](https://dsdmoj.atlassian.net/wiki/spaces/NDSS/pages/3159916691/HMPPS+standards+for+API+Development+and+Management#HMPPS-non-functional-requirements-for-API-Development-and-Management)
